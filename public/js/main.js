!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}({1:function(e,n,t){e.exports=t("aZpi")},aZpi:function(e,n){function t(){$.post("/new",{_token:_token},function(e){i(e.elect)}),r(0)}function i(e){$(".elect-area .area").html("");for(var n in e.lamps)$(".elect-area .area").append('<div class="lamp" id="lamp-'+e.lamps[n].id+'"></div>');$(".elect-area .lamp").click(function(){o(this)})}function o(e){if($(e).hasClass("active"))return!1;$(e).addClass("active");var n=$(e).attr("id").replace(/^lamp\-(\d+)/,"$1");$.post("/move",{_token:_token,id:n},function(e){a(e.elect),r(e.elect.move),e.elect.win&&s(e.elect.move)})}function a(e){for(var n in e.lamps)$("#lamp-"+e.lamps[n].id).removeClass("active"),e.lamps[n].active&&$("#lamp-"+e.lamps[n].id).addClass("active")}function r(e){$(".digit").removeClass("digit-1").removeClass("digit-2").removeClass("digit-3").removeClass("digit-4").removeClass("digit-5").removeClass("digit-6").removeClass("digit-7").removeClass("digit-8").removeClass("digit-9");for(var n=e.toString(),t=0,i=n.length-1;i>-1;i--)$(".d-"+t).addClass("digit-"+n[i]),t++}function s(e){setTimeout(function(){$.prompt("You won!!! "+e+" moves\nEnter your name:",c,function(e){(c=e)&&$.post("/win",{_token:_token,name:c},function(e){t()})})},200)}var c="";$(document).ready(function(){t(),$(".btn-new-game").click(function(){return $.confirm("Start a new game?",function(e){e&&t()}),!1}),$(".btn-top-winners").click(function(){return $.post("/top",{_token:_token},function(e){var n="Top Winners:\n\n";for(var t in e.winners)n+=e.winners[t].name+": "+e.winners[t].moves+"\n";$.alert(n)}),!1})})}});